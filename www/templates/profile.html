<ion-view view-title="{{user.fullname}}">
	<ion-nav-buttons side="secondary">
		<button class="button button-icon ion-more" ng-click="popover.show($event)"></button>
	</ion-nav-buttons>

	<ion-content padding="false" class="scroll-full">
		<div class="profile-cover" ng-style="{'background-image':'url('+user.school.coverPicture.url()+')'}"></div>
		<div class="profile-picture" ng-style="{'background-image':'url('+user.profilePicture.url()+')'}"></div>
		<div class="profile-info">
			<h2>{{user.fullname}}</h2>
			<p>{{user.role.name}} at {{user.school.name}}</p>
			<!-- <p>{{user.absences}} check in missed</p> -->
		</div>
		<button class="button button-outline button-full button-assertive" ng-click="logout()">Logout</button>
	</ion-content>
</ion-view>

<script id="profilePopover.html" type="text/ng-template">
<ion-popover-view>
	<ul class="list">
    	<li class="item" ng-if="user.role.name == 'admin'" ng-click="updateCoverPicture()">Edit Cover Picture</li>
		<li class="item" ng-click="updateProfilePicture()">Edit Profile Picture</li>
	</ul>
</ion-popover-view>
</script>
